= le  Web,  ses  Frameworks  et ses  Standards : déconstruire pour mieux (re?)construire...
Hubert Sablonnière
:author-twitter: @hsablonniere
:author-avatar: img/hsablonniere-profil-2017.jpg
:author-company: Clever Cloud
:author-company-logo: img/clever-cloud-logo.svg
:event: DevoxxFR
:date: 17 avril 2019

[slide=poster]
Poster

[slide=blank]
Fondu vers le noir

[.old]
== Prologue...

#Mettre la musique (Gymnopedie)#
#Voix off, grave, triste#
Perdu dans la jungle du Web moderne, de ses frameworks et ses standards, notre personnage principal est perdu.
Depuis le début de sa carrière, au fil des semaines, des mois et des années... il voit naitre tous ces nouveaux outils révolutionnaires et prometteurs mais qui demain seront délaissés et remplacés par de nouveaux encore plus mieux.

//[.old]
image::img/drawings/rip.svg[]
//logos et noms des frameworks avec RIP et pierres tombales (laisser un espace oh milieu)

C'est avec tristesse et mélancholie qu'il repense à tous ces frameworks, librairies, éditeurs de code et autres outils en ligne de commande...
#Un peu de respect pour les disparus SVP!#

//[slide=todo]
//react, angular et vue dans le centre du coolitude radar
//[.old]
image::img/drawings/radar.svg[]

...qui s'ils n'ont pas déjà disparu de nos projets ont déjà disparu de nos radars de coolitude.
Cette situation l'inquiète, le questionne et l'empêche de dormir.
Dans le cadre de son travail, il doit faire des choix techniques mais il ne sais plus quoi faire.
C'est à ce moment là que notre personnage pris la décision d'aller voir un thérapeuthe.

image::img/drawings/talking-legos.svg[]

// Musique
😎 Bonjour docteur.
👩‍⚕️ Bonjour Monsieur Sablonnière, alors, qu'est-ce qui vous amène ?
👩‍⚕️ La dernière fois que je vous ai vu, c'était il y a bien 10 ans...
👩‍⚕️ Vous commenciez votre premier job et vous étiez en pleine crise existentielle sur "est-ce qu'il faut utiliser des espaces ou des tabulations" et sur la "prononciation des guiffes animé"...
😎 Des jifs, vous voulez-dire ?
😎 Non mais ça c'est du passé, j'étais jeune et débutant, je ne me posais pas les bonnes questions.

.Personnage H qui pense que les espaces c'est mieux.
image::img/drawings/talking-legos.svg[]

😎 Aujourd'hui, je prends du recul sur le monde du frontend Web et je fais un constat :
😎 Les effets de mode et de hype nous rendent beaucoup trop dépendant de nos outils.
👩‍⚕️ Humm, dites mois en plus, je vois pas trop quel problèmes ça implique.

[slide=todo]
Problème numéro 1

// illustrer les pb avec des tweets

😎 Problème numéro 1...
👩‍⚕️ Euh... quand on vous pose une question, vous répondez toujours en sortant un PowerPoint ?

.Personnage H qui pense "mais j'utilise pas PowerPoint en plus"
image::img/drawings/talking-legos.svg[]

😎 Bah ouais pourquoi, je vois pas le problème. Bref.

[slide=todo]
Problème numéro 1

😎 Problème numéro 1...
😎 Quand on choisi un framework (ou une lib) frontend
//, mais finalement, c'est assez vrai avec n'importe quel outil,
😎 on en oublie souvent le problème qu'on voulait résoudre à la base et pourtant on a l'impression d'avoir trouvé la bonne réponse, la solution à utiliser.
😎 Parfois, c'était le bon outil et parfois la solution est adaptée à des problèmes qu'on a pas vraiment.
👩‍⚕️ Mais pourquoi vous faites ça ?
😎 Parfois le choix se fait parceque la techno est cool (DX vs UX)
😎 Parfois parcequ'elle est utilisée/créée par un géant du Web
😎 Les recruteurs demandent tous cet outil, du coup, on se forme dessus, c'est un cercle qui s'auto alimente
😎 Il y a des confs sur le sujet et des meetups, ça doit forcément être bien
😎 Et pourtant vous n'avez peut-être pas le même contexte que les gens qui trouvent cette solution utile
// Analogie de la voiture
// À force d'utiliser nos voitures, on en oublie qu'à la base on avait un problème, on veut se déplacer
// en oubliant se problème, on en vient à utiliser tout le temps la même solution sans se soucier des paramètres de départ
// et on finit par aller acheter du pain à 500m en polluant la planète.
// Aaahhh

// Ah oui, je vois, c'est un peu comme quand on est habitué à prendre sa voiture tout le temps, qu'on aime les belles bagnoles et que du coup on finit par l'utiliser pour aller chercher du pain à 500m.
// Euh, oui c'est un peu ça.

[slide=todo]
Problème numéro 2

😎 Problème numéro 2...
😎 On fois qu'on a choisi un ecosystème (fwk/lib), on a tendance à s'enferme dedans
😎 On cherche systématiquement comment faire X ou Y avec l'écosystème foo alors que X ou Y sont universels (jQuery)
😎 On code l'énième version de feature/composant X ou Y pour cet écosystème
😎 Difficile de revenir en arrière quand on a investi du temps d'apprentissage
😎 On rempli nos cerveaux avec des noms de features (au lieu de les remplir avec des noms de pattern)
// cerveau
😎 On ne voit plus les défauts de nos propres outils
😎 On soutient des fonctionnalités sans les comprendre
😎 On ne regarde pas ce qui se fait ailleurs avec un oeil ouvert
😎 On compare un framework tel qu'Angular aux Web Components, ça n'a aucun sens
// Analogie conférences Apple

// Ah vous entendre, on dirait mon fils devant une conférence Apple, quand ils sortent l'iPod ou l'iPhone, je comprends qu'il soit émerveillé
// Mais quand Apple dit "on a viré le jack" il dit, "ah mais ces vraiment des génies" alors qu'il a pas de casque bluetooth
// Rant sur les exemples de code décorés apple

[slide=todo]
Problème numéro 3

😎 Problème numéro 3...
😎 On produit du code qui subit mal les effets du temps
😎 Les changements de son propre ecosystème
😎 Du code trop couplé au framework lui même
😎 L'arrivée de nouveaux standards
😎 Du code qui mélange les couches (souvent car on ne voit pas en quoi c'est un problème)
😎 Voire même sa disparition
😎 On jette à la poubelle plein de connaissances
😎 On jette à la poubelle plein de code
// On s'est laissé aller à produire du code qui rentre dans les clous de nos outils plutôt que d'exiger de nos outils qu'ils proposent des branchements pour s'adapter à notre code.
// Analogie de la TV

// euh par contre, là j'ai rien compris
// => analogie de la TV

image::img/drawings/talking-legos.svg[]

// Attention à ne pas être trop négatif
//À la base, ces outils sont censés nous aider
//C'est encore, le cas, je reste persuadé que le ratio de ce qu'ils apportent et des problèmes que j'évoque est du côté positif mais cela ne m'empêche pas de m'inquiéter.
// Bon, j'ai pas tout compris alors
// je vous prescris une thérapie de groupe
// vous allez m'analyser tous ces trucs en détails comme vous savez faire
// vous allez réunir un groupe de personnes qui bossent dans votre domaine (un bon groupe de 800, c'est bien)
// et vous leur partagez vos préoccupations, votre analyse et votre démarche et puis voilà
// wow, mais ça fait peur non ?
// Mais non allez, ça va bien se passer

[slide=poster]
Bonjour à *toutes* et tous !
J'm'appelle Hubert Sablonnière,
J'suis développeur Web chez #Clever Cloud#,
et aujourd'hui, j'ai envie de vous parler :
du Web,
de ses frameworks et autres librairies
et de ses standards.

== C'était quoi  le *problème* ?

[slide=todo]
todo

// j'ai essayé de spéparer en 2 :
// * les problèmes qu'on a nous quand on écrit du code
// * et les problèmes qu'on veut résoudre pour aider nos utilisateurs

// il faut vraiment que ça soit, en tant que, je veux
listes besoins utilisateurs
// en tant qu'utilisateur, je veux un site
* accessible
* responsive
* 1er chargement rapide
* navigations rapides
* fluidité, pas trop de lag
* pas trop de conso batterie
* pas trop de conso CPU
//
listes besoins développeur
// en tant que développeur, je veux
* gagner du temps (démarrer mon projet rapidement)
* avoir des conventions
* écrire le moins de code possible
* écrire du code propre et lisible
* ne pas trop réfléchir (modèle de pensée simple, abstractions)
* isolation des impacts
* écrire du code réutilisable (composants)
* ne pas réinventer la roue
* courbe d'apprentissage
* ne pas dépendre des mes outils
* pouvoir travailler avec un designer

// Donc on a identifié les problèmes qu'on veut résoudre

== *Comment* en est-on  arrivé là ?

// mais pourquoi c'est aussi compliqué
// on a vraiment besoin d'autant d'outils

[slide=todo]
quote Pour comprendre où on va, il faut savoir d'où on vient.

[slide=todo]
schéma ères du web (vide)

bon anniversaire le web

[slide=todo]
schéma ères du web (old school ssr)

[slide=todo]
schéma ères du web (images)

[slide=todo]
schéma ères du web (forms)
// interactivité

[slide=todo]
schéma ères du web (SSR + JS)
// ajout du JS
// validation de form

[slide=todo]
schéma ères du web (AJAX with jQuery)

[slide=todo]
schéma ères du web (SPA era, client side templating)

[slide=todo]
schéma ères du web (SPA era, routing)
// anchor/hash => push state

[slide=todo]
schéma ères du web (the mega bundle era with empty body)

[slide=todo]
schéma ères du web (SSR + hydratation + code splitting)

== Ce que les *frameworks*  nous apportent ?

// découpage vertical => découpage horizontal

// https://www.npmjs.com/package/vue-axios
// https://github.com/imcvampire/vue-axios
// https://alligator.io/react/axios-react/
// https://www.npmjs.com/package/react-axios

== Ce que les *standards*  nous apportent ?

// exemple jquery => sizzle + ajax + API chainée sucre syntaxique

// UTILISER LE SCHEMA DE LA TV

// custom element => modèle de composant avec lifecycle methods et "data binding" sur les attributs
// une API standard entrée/sortie (attr, prop, methods, events)
// il faut des proxy ou des getter/setter pour le databinding sur autre chose que des strings ou des booleens
// global registry & pas de rechargement à chaud
// => pas de système simple pour le HMR
// Scoped CustomElementRegistry propal
// lazy definition propal
// form associated elements

// shadow DOM => isolation du CSS
// la suite de l'API standard entrée/sortie (custom prop, ::part)
// système de slots :+1
// transperce le shadow root avec des custom props
// transperce le shadow root avec des ::part (et ::theme)
// custom pseudo class propal
// pas de système simple pour faire du SSR
// => propal pour un décorative shadow DOM, custom elements

// <template>, une manière "efficace" de cloner du DOM
// pas d'interpolation et de binding
// une propal mais elle restera simple car pas de repeat (template instanciation)
// HTML module propal

// des resources pour surveiller les specs et les implems dans les browsers
// TC39

Est-ce que votre outil est prêt demain à adopter un standard et jetter son implem pour vous faire profiter du support natif ?

== *Séparons* nos  préoccupations

//== Le découplage chez *Clever Cloud*

== Ce que le *futur*  nous réserve...

// framework runtime => compilers
// bon ou mauvais
// l'idéal serait que l'input du compiler fonctionne sans build step et que l'output soit optimisé aux petits oignons, comme ce qu'on fait quand on minifie
// disappearing frameworks

[.old]
== ...Epilogue

// Alors, comment ça s'est passé cette thérapie de groupe
// Je sais pas trop, j'ai pas forcément eu le temps de rentrer dans chaque détails du coup,
// j'ai plutôt essayé de partager mes grilles de lecture pour que chacun les adapte à son contexte
// J'ai essayé d'adresser le problème numéro 1 en remettant en lumière les besoins et les problèmes à régler quand on développe une web app
// J'ai aussi essayé de déconstruire les différentes fonctionnalités des 3 écosystème du moment pour qu'on puisse avoir un regard plus critique et une vision horizontale plutôt qu'une vision verticale
// Ça adresse également le problème numéro 2 car en comprenant mieux ces parties, on a moins peur des les remplacer par des implems plus simples ou mieux adaptés ou des nouveaux standard
// Et vous leur avez parlé des TV magnétoscopes
// Oui, le problème numéro 3, enfin, j'ai essayé ça reste un principe, il y a tjs des exceptions
// En tout cas, ça va un peu mieux, je vous remercie beaucoup docteur
// et je tiens également à remercie tous les membres du groupes qui m'ont écouté
// merci bcp !

// Revenir sur les problèmes et les solutions qu'on y a apporté
Ne vous enfermez pas dans un framework/écosystème !
Analysez les briques qui composent ce framework/écosystème, leur rôle et les avantages/inconvénients qu'il apporte
Intéressez vous aux standards pour savoir comment ils impacteront demain vos choix d'aujourd'hui
Découpler, isoler, séparer pour mieux maitriser (perf, sécu) s'adapter au futur
Intéressez vous à ce qui se fait dans tous ces écosystèmes (en particulier si vous êtes partisan du NIH et que vous avez votre propre framework)

.merci  beaucoup !
[slide=poster]
Outro

//[slide=question]
//Questions ?
