= le  Web,  ses  Frameworks  et ses  Standards : déconstruire pour mieux (re?)construire...
Hubert Sablonnière
:author-twitter: @hsablonniere
:author-avatar: img/hsablonniere-profil-2017.jpg
:author-company: Clever Cloud
:author-company-logo: img/clever-cloud-logo.svg
:event: DevoxxFR
:date: 17 avril 2019

[slide=poster]
Poster

[slide=blank]
Fondu vers le noir

[.old]
== Prologue...

[.four]#Mettre la musique (Gymnopedie)#
#Voix off, grave, triste#
Perdu dans la jungle du Web moderne, de ses frameworks et ses standards,

image::img/drawings-optimized/thinking.svg[]

notre personnage principal est perdu.
Depuis le début de sa carrière, au fil des semaines, des mois et des années...

image::img/drawings-optimized/thinking-words.svg[]

il voit naitre tous ces nouveaux outils révolutionnaires et prometteurs,
mais qui demain seront délaissés et remplacés par de nouveaux ... encore plus mieux.
C'est avec tristesse et mélancholie qu'il repense à tous ces frameworks, librairies, éditeurs de code et autres outils en ligne de commande.

image::img/drawings-optimized/rip.svg[]

#Un peu de respect SVP !#
S'ils n'ont pas déjà disparus de nos projets,
peut-être ont-ils déjà disparus de nos...

image::img/drawings-optimized/radar.svg[]

...radars de coolitude.
Cette situation l'inquiète, le questionne et l'empêche de dormir.
Dans le cadre de son travail, il doit faire des choix techniques mais il ne sais plus quoi faire.
C'est à ce moment là que notre personnage pris la décision d'aller voir...

image::img/drawings-optimized/dr-sigma.svg[]

...un thérapeuthe.
[.four]#Restart la musique (Gymnopedie)#

image::img/drawings-optimized/talking-legos.svg[]

#Voix lassée et fatiguée#
😎 Bonjour docteur.
#Voix confiante#
👩‍⚕️ Bonjour Monsieur Sablonnière, alors, qu'est-ce qui vous amène ?
La dernière fois que je vous ai vu, c'était il y a bien 10 ans...
Vous commenciez votre premier job et vous aviez déclaré une crise existentielle sur l'usage des "espaces ou des tabulations" et sur la prononciation des "guiffes animés".
😎 Des jifs, vous voulez-dire ?

.2 espaces,   c'est mieux !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]
//Personnage H qui pense que les espaces c'est mieux.

😎 Non mais ça c'est du passé, j'étais jeune et débutant, je ne me posais pas les bonnes questions.
Aujourd'hui, je prends du recul sur le monde du frontend Web et je fais un constat :

.Trop de hype,   on est addict !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

😎 Les effets de mode et de hype nous rendent beaucoup trop addict à nos outils.
👩‍⚕️ Humm, dites mois en plus, quels problèmes ça implique ?

image::img/drawings-optimized/projecteur.svg[]

#Voix énergique#
😎 Alors, problème numéro 1...
#Voix blasée#
👩‍⚕️ Euh... quand on vous pose une question, vous répondez toujours avec un PowerPoint ?

.C'est même pas   PowerPoint en plus...
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]

😎 Bah c'est vachement pratique en vrai. Bref.

.Problème n°1
[slide=problem]
Trouver la solution   avant de constater le problème

😎 Problème numéro 1...
Quand on choisi un framework, une lib frontend et son écosystème,
on en oublie souvent le problème qu'on voulait résoudre à la base
et pourtant on a l'impression d'avoir déjà trouvé la bonne réponse,
la bonne solution à utiliser.
Bon, souvent c'était le bon outil et mais parfois la solution est adaptée à des problèmes qu'on a pas vraiment.
👩‍⚕️ Mais pourquoi vous faites ça ?

image::img/drawings-optimized/dx-ux.svg[]

😎 Parfois le choix se fait parceque la techno est *cool*
et ça nous pousse souvent à faire passer l'expérience de développement avant cette des utilisateurs du produit qu'on développe.

image::img/drawings-optimized/giant.svg[]

😎 Parfois parceque la techno est utilisée, voire créée par un géant du Web !
// Ça forme un cycle:
// * les géants l'utilisent
// * on l'utilise
// * les recruteurs nous attirent avec
// * les débutants se forment dessus
// * on créé des confs dédiées
// * on créé des meetups

.Continuez, continuez... !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

👩‍⚕️ Continuez, continuez...

.Problème n°2
[slide=problem]
S'enfermer dans son propre écosystème

😎 Problème numéro 2...
Une fois qu'on a choisi un écosystème, on a tendance à s'enfermer dedans.
// https://en.wikipedia.org/wiki/Escalation_of_commitment
// https://fr.wikipedia.org/wiki/Escalade_d%27engagement
// https://en.wikipedia.org/wiki/Sunk_cost
// https://fr.wikipedia.org/wiki/Co%C3%BBt_irr%C3%A9cup%C3%A9rable

image::img/drawings-optimized/silos.svg[]

😎 On ouvre une porte et on reste à l'intérieur.
On cherche systématiquement comment faire X ou Y avec cet écosystème alors que X ou Y sont universels.
Un peu comme quand on cherchait à manipuler des dates ou des tableaux avec jQuery.
Du coup on va réécrire l'énième composant "select" ou "datagrid" dédié uniquement à cet écosystème.
On va chercher sur stackoverflow en préfixant avec le petit nom de notre écosystème.
On ne voit plus les défauts de nos propres outils
On soutient des fonctionnalités sans les comprendre
On ne regarde pas ce qui se fait ailleurs avec un oeil ouvert (silo)
image::img/screenshots/tweet-hooks2.jpg[url=https://twitter.com/devongovett/status/1095518197518745601]

image::img/drawings-optimized/brain.svg[]

😎 On va remplir notre cerveau avec...

image::img/drawings-optimized/brain-fwk.svg[]

😎 ...des fonctionnalités et concepts spéciques à notre écosystème...
// 😎 Difficile de changer de cap quand on a investi du temps d'apprentissage.

image::img/drawings-optimized/brain-patterns.svg[]

😎 ...au lieu de les remplir avec des standards bien installés ou des patterns bien connus.

.Comme une   keynote d'Apple ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-thinks.svg[]

👩‍⚕️ Continuez, continuez...
// Ah vous entendre, on dirait mon fils devant une conférence Apple, quand ils sortent l'iPod ou l'iPhone, je comprends qu'il soit émerveillé
// Mais quand Apple dit "on a viré le jack" il dit, "ah mais ces vraiment des génies" alors qu'il a pas de casque bluetooth
// Rant sur les exemples de code décorés apple

.Problème n°3
[slide=problem]
...

😎 Problème numéro 3...
Finalement celui là, il est assez universel,
On oublie facilement les principes SOLID et la "separation of concerns".

.Problème n°3
[slide=problem]
Écrire du code fortement couplé   qui subit mal des effets du temps

Du coup, on à tendance à produire du code fortement couplé, qui subit mal les effets du temps.

image::img/drawings-optimized/layers.svg[]

😎 Au lieu d'avoir des couches bien identifiées et bien isolées...

image::img/drawings-optimized/layers-mixed.svg[]

😎 ...on écrit des modules qui font plusieurs choses à la fois et qui sont fortement liées au scope global du projet.
Du coup :
* quand notre propre écosystème évolue,
* quand il disparait
* quand un nouveau standard arrive
ça devient difficile de remplacer unitairement certaines parties.

image::img/drawings-optimized/trash.svg[]

😎 On va jeter à la poubelle...

image::img/drawings-optimized/trash-brain.svg[]

😎 ...une partie de nos connaissances...

image::img/drawings-optimized/trash-project.svg[]

😎 ...et pas mal de code.
Vive les refontes et autres migrations techniques !

.WTF?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

👩‍⚕️ Là par contre, j'ai rien compris.
😎 Bah en fait, c'est comme ma télé.

.Comme ma télé !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

😎 La dernière fois que je suis venu vous voir il y a 10 ans,
Je commençais mon job et je venais de m'acheter une nouvelle télé avec l'argent de mon stage.

image::img/drawings-optimized/tv.svg[]

😎 Cette télé, je l'ai toujours aujourd'hui,
elle marche comme il y a 10 ans.
Elle a tenu la route parque qu'elle fait une chose et elle le fait bien.
Elle ne sait pas ce que je vais brancher dessus, elle impose juste une interface : de l'HDMI.

image::img/drawings-optimized/tv-pc.svg[]

😎 Du coup, au départ, j'ai branché un gros PC,

image::img/drawings-optimized/tv-raspberry.svg[]

😎 puis un plus petit PC.
J'ai branché plein de trucs dont elle n'a pas besoin de connaitre l'existence ni même la provenance.

image::img/drawings-optimized/tv-androidtv.svg[]

😎 J'ai même découvert par accident qu'en plus de recevoir de l'HDMI,
elle pouvait elle envoyer des signaux (tjs via l'HDMI) aux appareils branchés.
Bref, aujourd'hui, dans le monde du frontend...

image::img/drawings-optimized/tv-vcr.svg[]

😎 Je vois trop de télé comme ça !
👩‍⚕️ Ah ouais, c'était bien au début ces trucs là car il n'y avait rien à brancher, c'était magique mais bon, quand la télé ou le magnétoscope était pété, il fallait tout racheter

// image::img/drawings-optimized/tv-vcr-real.svg[]

.Ah, vous voyez ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-talks.svg[]

😎 Ah vous voyez pourquoi je suis perdu alors ?

.Je vois, je vois...
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

👩‍⚕️ Je vois, je vois...
Le plus simple dans votre situation...

.Thérapie de groupe !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

👩‍⚕️ C'est la thérapie de groupe avec des professionnels de votre domaine !
Du coup, je vous ai réuni un petit groupe de gens là.

.J'y vais,   mais j'ai peur !
[slide=bubble]
image::img/drawings-optimized/talking-legos-l-thinks.svg[]

😎 Euh... mais ils sont beaucoup là non ?

.Allez, hop !
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

👩‍⚕️ Mais non, allez, hop !

[slide=poster]
Bonjour

Bonjour à *toutes* et tous !
J'm'appelle Hubert Sablonnière,
J'suis développeur Web chez #Clever Cloud#,
et aujourd'hui, j'ai envie de vous parler :
* du Web,
* de ses frameworks et autres librairies
* et de ses standards.
On va essayer ensemble de déconstruire un peu tout ça
dans l'espoir de pouvoir mieux construire nos web apps.
OK, on utilise tous pleins d'outils qui nous apportent des solutions...

== C'était quoi  le *problème* ?

...mais c'était quoi le problème à la base ?
Alors, j'ai essayé de lister des problèmes auquels j'ai fait face dans mes différentes expériences
de développement sur des web apps.

[slide=needs, display=0]
_

J'ai séparé ça en 2 :
* Les problèmes que je veux résoudre pour les utilisatrices et utilisateurs du produit que je développe
* Les problèmes que je rencontre moi en tant que dev

[slide=needs, display=1]
_

Rapidité (1er chargement)

[slide=needs, display=2]
_

Rapidité (navigations consécutives)

[slide=needs, display=3]
_

Fluidité + réactivité

[slide=needs, display=4]
_

Conso. (batterie, RAM, CPU)

[slide=needs, display=5]
_

Accessibilité

[slide=needs, display=6]
_

Responsive

[slide=needs, display=7]
_

Gagner du temps

[slide=needs, display=8]
_

Code propre, réutilisable

[slide=needs, display=9]
_

Modèle de pensée simple

[slide=needs, display=10]
_

Isolation des impacts

[slide=needs, display=11]
_

Ne pas dépendre des outils

[slide=needs, display=12]
_

Collab. avec 1 designer


// j'ai essayé de spéparer en 2 :
// * les problèmes qu'on a nous quand on écrit du code
// * et les problèmes qu'on veut résoudre pour aider nos utilisateurs

//[slide=todo-needs]
//titre besoins utilisateur et besoins développeur
//+ list des besoins (un par un)

// il faut vraiment que ça soit, en tant que, je veux
listes besoins utilisateurs
// en tant qu'utilisateur, je veux un site
* accessible
* responsive
* 1er chargement rapide
* navigations rapides
* fluidité, pas trop de lag
* pas trop de conso batterie
* pas trop de conso CPU
//
listes besoins développeur
// en tant que développeur, je veux
* gagner du temps (démarrer mon projet rapidement)
* avoir des conventions
* écrire le moins de code possible
* écrire du code propre et lisible
* ne pas trop réfléchir (modèle de pensée simple, abstractions)
* isolation des impacts
* écrire du code réutilisable (composants)
* ne pas réinventer la roue
* courbe d'apprentissage
* ne pas dépendre des mes outils
* pouvoir travailler avec un designer

// Donc on a identifié les problèmes qu'on veut résoudre

== *Comment* en est-on  arrivé là ?

// mais pourquoi c'est aussi compliqué
// on a vraiment besoin d'autant d'outils

[quote]
Pour comprendre où on va,   il faut savoir d'où on vient.

// schémas avec le triangle

[slide=todo-schema]
schéma ères du web (vide)

bon anniversaire le web

[slide=todo-schema]
schéma ères du web (old school ssr)

[slide=todo-schema]
schéma ères du web (images)

[slide=todo-schema]
schéma ères du web (forms)
// interactivité

[slide=todo-schema]
schéma ères du web (SSR + JS)
// ajout du JS
// validation de form

[slide=todo-schema]
schéma ères du web (AJAX with jQuery)

[slide=todo-schema]
schéma ères du web (SPA era, client side templating)

[slide=todo-schema]
schéma ères du web (SPA era, routing)
// anchor/hash => push state

[slide=todo-schema]
schéma ères du web (the mega bundle era with empty body)

[slide=todo-schema]
schéma ères du web (SSR + hydratation + code splitting)

== Ce que les *frameworks*  nous apportent ?

// framework => cadre de travail
// opinionated set of libs/tools
// problem is when this set of libs/tools is only compatible with itself
// de mon expérience, les projets frameworks X ou Y ne se ressemble pas quand le contexte est différent

// historique
//jquery
//Frameworks are also their to prevent browser quirks

[slide=text]
*Frameworks* vs. *libs* ?

[slide=todo-schema]
image::img/drawings-optimized/silos-colors.svg[]

[slide=todo-schema]
image::img/drawings-optimized/silos-rooms.svg[]

//Angular and ember are opinionated
//React is supposed to be unopinionated
//Vue is a bit in the middle

// special mention to ember

image::img/drawings-optimized/silos-not.svg[]

// mentionner les étapes qui nécessitent un outil de build
// est-ce que la source de l'outil de build est spécifique ou est-elle un peu standard ?
// mentionner des détails sur les implémentations

// points importants à aborder

[slide=needs, focus=""]
Système de composant (API + runtime)

[slide=needs, focus="7,9,10"]
Système de composant (API + runtime)
// => props, attrs, slots, methods, events, lifecycle
// exemple Angular, React, Vue

[slide=needs, focus=""]
"Templating"

[slide=needs, focus="0,6,7,8,9,11"]
"Templating"
//DX gagner du temps
//DX moins de code possible
//DX modèle de pensée simple
//DX ne pas réinventer la roue
//DX faciliter le boulot du designer
//UX chargement rapide (SSR, compilation de tmpl donc minif, tree shaking)
// => JSX, templates
// => 1 file vs several files
// => output pur JS, vs JS + CSS
// Mvc, mvvm, template + vue model, computed properties
// exemple Angular, React, Vue

[slide=needs, focus=""]
CSS authoring

[slide=needs, focus="0,9"]
CSS authoring
//DX isolation des impacts
//UX chargement rapide (SSR, compilation de tmpl donc minif, tree shaking)
// => BEM, CSS-in-JS lib, encapsulation system

[slide=needs, focus=""]
Manipulation du DOM

[slide=needs, focus="2,3,4"]
Manipulation du DOM
//UX Fluidité, Pas trop de lag (async and scheduling microtask...)
// => Direct binding vs Virtual DOM (+ scheduling microtask...)
//The Virtual DOM was always a big marketing argument to sell React but why would we care.
//It's an implementation detail an clearly, if they changed their impl and are still fast, we should not care at all.

[slide=needs, focus=""]
SSR (Server Side Rendering)

[slide=needs, focus="0"]
SSR (Server Side Rendering)
//déjà abordé pas mal de fois

[slide=needs, focus=""]
Routing

[slide=needs, focus="0,2"]
Routing
//UX chargerment rapide
//UX fluidité
// dock ipod

[slide=needs, focus=""]
State management

[slide=needs, focus="7,8"]
State management
//DX modèle de pensée simple
//DX écrire un code propre

//[slide=needs, focus="0"]
//en vrac car moins important pour notre discussion
//CLI
//Devtools
//HTTP client
//Form handling
//Module system
//Dep inj
//i18n
//tests

// https://www.npmjs.com/package/vue-axios
// https://github.com/imcvampire/vue-axios
// https://alligator.io/react/axios-react/
// https://www.npmjs.com/package/react-axios

[slide=todo-schema]
recap ?

// en terme de conception de d'organisation des composants (et de séparation des concerns etc)
// les 3 communautés ont des choses intéressantes à dire

== Ce que les *standards*  nous apportent ?

[slide=todo]
préambule exemple jquery => sizzle + ajax + API chainée sucre syntaxique

.Web Components
[slide=web-components]
_

[slide=todo-schema]
// UTILISER LE SCHEMA DE LA TV
schéma de la télé => analogie avec le Web component

.Custom Elements
[slide=web-components]
_
// custom element => modèle de composant avec lifecycle methods et "data binding" sur les attributs

[slide=todo-schema]
schéma de la télé => analogie avec le Web component
API (attr, prop, methods, events) + lifecycle methods
// une API standard entrée/sortie (attr, prop, methods, events)

[slide=todo]
exemple de code de custom element

[slide=todo]
exemples de noeuds du DOM avec des attributs

[slide=todo]
exemples de noeuds du DOM avec des propriétés non string/boolean
//* RO https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset
//* RO https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style

[slide=todo]
exemples de noeuds du DOM avec des méthodes
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/submit
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/pause
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob

[slide=todo]
exemples de noeuds du DOM avec des événements un peu custom
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/loadstart_event
//* https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/error_event

[slide=todo-schema]
où ça se place dans notre tableau de solutions ?

.Custom Elements
[slide=web-components, display=0]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=1]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=2]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=3]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=4]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=5]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Custom Elements
[slide=web-components, display=6]
* 🤔 Pas de customized built-in elements dans Safari
* 😐 Pas de "data-binding" sur les propriétés (getter/setter ou proxy)
* 😡 Pas de HMR (sans bidouille)
* 📜 Scoped CustomElementRegistry
* 📜 Lazy definition
* 📜 Form associated elements

.Shadow DOM
[slide=web-components]
_
//shadow DOM => isolation du CSS

[slide=todo-schema]
schéma de la télé => analogie avec le Web component
Ajouter à l'API les custom prop, les slots et les ::part
// la suite de l'API standard entrée/sortie (custom prop, ::part)
// système de slots :+1
// transperce le shadow root avec des custom props
// transperce le shadow root avec des ::part (et ::theme)

[slide=todo]
exemples de noeuds du DOM avec des ::part ou des custom prop

[slide=todo-schema]
où ça se place dans notre tableau de solutions ?

.Shadow DOM
[slide=web-components, display=0]
* 😡 Pas de SSR (sans bidouille)
* 📜 Décorative shadow DOM, custom elements
* 📜 Custom pseudo class
* 📜 CSS modules

.Shadow DOM
[slide=web-components, display=1]
* 😡 Pas de SSR (sans bidouille)
* 📜 Décorative shadow DOM, custom elements
* 📜 Custom pseudo class
* 📜 CSS modules

.Shadow DOM
[slide=web-components, display=2]
* 😡 Pas de SSR (sans bidouille)
* 📜 Décorative shadow DOM, custom elements
* 📜 Custom pseudo class
* 📜 CSS modules

.Shadow DOM
[slide=web-components, display=3]
* 😡 Pas de SSR (sans bidouille)
* 📜 Décorative shadow DOM, custom elements
* 📜 Custom pseudo class
* 📜 CSS modules

.Shadow DOM
[slide=web-components, display=4]
* 😡 Pas de SSR (sans bidouille)
* 📜 Décorative shadow DOM, custom elements
* 📜 Custom pseudo class
* 📜 CSS modules

.`<template>`
[slide=web-components]
_
// <template>, une manière "efficace" de cloner du DOM

[slide=todo-schema]
où ça se place dans notre tableau de solutions ?

.`<template>`
[slide=web-components, display=0]
* 😡 Pas d'interpolation ni de "data-binding"
* 📜 Template instanciation (limitée à de simples valeurs)
* 📜 HTML modules

.`<template>`
[slide=web-components, display=1]
* 😡 Pas d'interpolation ni de "data-binding"
* 📜 Template instanciation (limitée à de simples valeurs)
* 📜 HTML modules

.`<template>`
[slide=web-components, display=2]
* 😡 Pas d'interpolation ni de "data-binding"
* 📜 Template instanciation (limitée à de simples valeurs)
* 📜 HTML modules

.`<template>`
[slide=web-components, display=3]
* 😡 Pas d'interpolation ni de "data-binding"
* 📜 Template instanciation (limitée à de simples valeurs)
* 📜 HTML modules

image::img/screenshots/web-components-best-practices.jpg[url=https://developers.google.com/web/fundamentals/web-components/best-practices]

//comment surveiller la suite

image::img/screenshots/github-web-components.jpg[url=https://github.com/w3c/webcomponents]

image::img/screenshots/twitter-intenttoship.jpg[url=https://twitter.com/intenttoship]

image::img/screenshots/twitter-WebPlatformNews.jpg[url=https://twitter.com/WebPlatformNews]

image::img/screenshots/github-tc39.jpg[url=https://github.com/tc39/proposals]

// des resources pour surveiller les specs et les implems dans les browsers
// TC39

//Est-ce que votre outil est prêt demain à adopter un standard et jetter son implem pour vous faire profiter du support natif ?

== *Séparons* nos  préoccupations

//== Le découplage chez *Clever Cloud*

// SOLID

[slide=text]
Notre contexte  chez *Clever Cloud*
// une webapp qui a un peu vieilli (jquery, baconjs, routeur maison)
// donnée qui vient d'appels REST et/ou de SSE
// on va pas tout jeter pour tout réécrire
// on va introduire des nouvelles technos feature après feature
// le fait que notre code n'était pas enfermé dans un framework nous facilite cette migration
// Les commentaires, c'est pour tes collègues, mais c'est surtout pr toi dans 6 mois un an. Les composants Web c'est pareil. C'est pour que des tiers puissent les utiliser dans d'autres contextes et pour que toi tu puisses changer ta stack dans 6 mois.
// third party integration

[quote]
Code should be disposable,   it's far easier to do when   things are decoupled.

[slide=text]
//Séparation des *préoccupations*   #≠#   Séparation des *fichiers*
Séparation des *préoccupations*   #!==#   Séparation des *fichiers*
//Séparation des *préoccupations*  *!==* Séparation des *fichiers*

[slide=todo-screenshot]
storybook driven development
//YOU NEED A DESIGN SYSTEM

[slide=todo-schema]
design (papier) en partant du top => bottom

[slide=todo-schema]
implem bottom => top
// memento
// tu ne sais pas qu'il y a un router
// tu ne sais pas qu'il y a un state manager
// tu ne sais pas d'où vient la donnée

[slide=todo]
composition pour ajouter des layers
// layer data aware
// layer auth aware
// elements qui font des appels REST

[slide=todo]
remonter l'accès à la donnée le plus haut possible

[slide=todo]
réduire la surface de trucs qui sont globaux
//* Gestion des données (appels REST)
//* Gestion de l'état
//* Global progress indicator
//* Global messages (errors, info...)
//* title
//* favicon
//* keyboard shortcuts
//* Global modal boxes

[slide=todo]
exemple des vars d'env et comment s'isolation au bon niveau, nous permet de passer du mode simple au mode expert

//The more experienced a developer is, the less they are willing to be constraint by a framework. They tend to look for tools that help them and get out of the way.
// https://hueniverse.com/http-frameworks-must-die-717a37b6b164

// i18n
// packaging
// Tests: do it like a  screen reader user wood do it
// Tests: no a great fan of snapshots

== Ce que le *futur*  nous réserve...

[slide=text]
*Méfiez vous* de ceux qui  prédisent le futur *!*

//See WC as the bytecode of the component isolation concept. It can be a compile to target
//People don't have to worry on the sugar

image::img/screenshots/article-frameworks-without-the-framework.jpg[url=https://svelte.technology/blog/frameworks-without-the-framework]

image::img/screenshots/article-compilers-are-the-new-frameworks.jpg[url=https://tomdale.net/2017/09/compilers-are-the-new-frameworks/]

//image::img/screenshots/tweet-future-web-assembly.jpg[url=https://twitter.com/getify/status/1111004737263075329]

//* le i18n (inliné)
//Discuter des webcomponent comme base pour l'authoring ou comme target de compilation

//[slide=todo-screenshot]
//Web Assembly

[slide=todo-schéma]
// framework runtime => compilers
schéma browser avec le code qui passe du runtime au build
// bon ou mauvais ?
// l'idéal serait que l'input du compiler fonctionne sans build step et que l'output soit optimisé aux petits oignons, comme ce qu'on fait quand on minifie
schéma browser avec le code qui passe du runtime et vers des implem du browser

//Convaincre les gens que :
//Le passé se répète
//Les outils vont et viennent
//La constante, c'est le modèle des éléments du DOM (sorte de HDMI du Web)
//Tout comme on a appris à apprendre mais on garde certaines bases fondamentales, ils faut capitaliser sur les bases fondamentales (le web et ses standards) et adopter des facilitants par dessus avec une courbe d'apprentissage
//Ne pas hésiter à questionner les standards ou les frameworks à la mode
//Qu'est-ce qui est important ? L'UX, la DX, les perfs ?
//On est trop dépendant de nos outils
//On est pas tjs assez exigent avec nos outils
//Il faut plus de compilation (html, css, js) et donc une étape intermédiaire
//Ça facilite le SSR, le HMR, plus résilient aux vieux browsers
//Compiler le i18n

[slide=blank]
Fondu vers le noir

[.old]
== ...Epilogue

image::img/drawings-optimized/talking-legos.svg[]

.Alors ?
[slide=bubble]
image::img/drawings-optimized/talking-legos-r-talks.svg[]

// Alors, comment ça s'est passé cette thérapie de groupe
// Je sais pas trop, j'ai pas forcément eu le temps de rentrer dans chaque détails du coup,
// j'ai plutôt essayé de partager mes grilles de lecture pour que chacun les adapte à son contexte

.Problème n°1
[slide=problem]
Trouver la solution   avant de constater le problème
// J'ai essayé d'adresser le problème numéro 1 en remettant en lumière les besoins et les problèmes à régler quand on développe une web app
// J'ai aussi essayé de déconstruire les différentes fonctionnalités des 3 écosystème du moment pour qu'on puisse avoir un regard plus critique et une vision horizontale plutôt qu'une vision verticale

.Problème n°2
[slide=problem]
S'enfermer dans son propre écosystème
// Ça adresse également le problème numéro 2 car en comprenant mieux ces parties, on a moins peur des les remplacer par des implems plus simples ou mieux adaptés ou des nouveaux standard
// Et vous leur avez parlé des TV magnétoscopes

.Problème n°3
[slide=problem]
Écrire du code fortement couplé   qui subit mal des effets du temps
// Oui, le problème numéro 3, enfin, j'ai essayé ça reste un principe, il y a tjs des exceptions
// En tout cas, ça va un peu mieux, je vous remercie beaucoup docteur
// et je tiens également à remercie tous les membres du groupes qui m'ont écouté
// merci bcp !

//In the end, frameworks are just tools. Let's all be smart persons and use them for the great things they bring us without worshiping them blindly and getting alienated...

// Revenir sur les problèmes et les solutions qu'on y a apporté
//Ne vous enfermez pas dans un framework/écosystème !
//Analysez les briques qui composent ce framework/écosystème, leur rôle et les avantages/inconvénients qu'il apporte
//Intéressez vous aux standards pour savoir comment ils impacteront demain vos choix d'aujourd'hui
//Découpler, isoler, séparer pour mieux maitriser (perf, sécu) s'adapter au futur
//Intéressez vous à ce qui se fait dans tous ces écosystèmes (en particulier si vous êtes partisan du NIH et que vous avez votre propre framework)

.merci  beaucoup !
[slide=poster]
Outro

//[slide=question]
//Questions ?
